/*! 
 * rtMedia JavaScript Library 
 * @package rtMedia 
 */

function rtp_display_terms_warning(a,b){if(!jQuery(".rt_alert_msg").length){var c=jQuery("<span />").attr("style","color:red; display:block; clear:both;").addClass("rt_alert_msg").empty().append(b);a.after(c)}}function handle_privacy_message(){jQuery("#close_rtm_privacy_message").on("click",function(a){jQuery(".privacy_message_wrapper").fadeOut("slow",function(a){jQuery(".privacy_message_wrapper").remove(),jQuery.cookie("rtm_show_privacy_message","view",{expires:1,path:"/"})})})}"object"==typeof rtMediaHook&&(rtMediaHook.register("rtmedia_js_upload_file",function(a){if(!1===a)return a;var b=jQuery("#rtmedia_upload_terms_conditions");return!(b.length>0&&!b.is(":checked"))||(rtp_display_terms_warning(b.parent(".rtmedia-upload-terms"),rtmedia_upload_terms_data.message),!1)}),rtMediaHook.register("rtmedia_js_before_activity_added",function(a){var b,c,d=jQuery("#aw-whats-new-submit");if(void 0!==a&&!1!==a&&void 0!==a.src&&"activity"===a.src?(c=jQuery("#whats-new-form"),b=c.find("#rtmedia_upload_terms_conditions")):b=jQuery("#rtmedia_upload_terms_conditions"),b.length>0){if(b.removeAttr("disabled"),0==a)return d.removeAttr("disabled"),d.removeClass("loading"),a;if(!b.is(":checked"))return d.removeAttr("disabled"),d.removeClass("loading"),void 0!==a&&!1!==a&&void 0!==a.src&&"activity"===a.src?rtp_display_terms_warning(c.find(".rtmedia-upload-terms"),rtmedia_upload_terms_data.message):rtp_display_terms_warning(b.parent(".rtmedia-upload-terms"),rtmedia_upload_terms_data.message),!1}return!0}),rtMediaHook.register("rtmedia_js_after_file_upload",function(){var a=jQuery("#rtmedia-upload-container #rtmedia_upload_terms_conditions");return a.length>0&&(a.removeAttr("checked"),jQuery(".rt_alert_msg").remove()),!0}),rtMediaHook.register("rtmedia_js_after_activity_added",function(){var a=$("#rtmedia_upload_terms_conditions");a&&a.is(":checked")&&a.prop("checked",!1)})),jQuery(document).ready(function(){var a=jQuery("#rtmedia_upload_terms_conditions");a.length&&a.on("click",function(){var b=jQuery(".start-media-upload");if(b.length&&b.focus(),a.is(":checked")){var c=a.siblings("span.rt_alert_msg");0<c.length?c.remove():a.parent().siblings("span.rt_alert_msg").remove()}else rtp_display_terms_warning(a.parent(".rtmedia-upload-terms"),rtmedia_upload_terms_data.message);if("undefined"!=typeof rtmedia_direct_upload_enabled&&"1"==rtmedia_direct_upload_enabled){var d=jQuery("#aw-whats-new-submit");d.length>0?(""!==jQuery("#whats-new").val().trim()||jQuery("#rtmedia_uploader_filelist").children("li").length>0)&&d.trigger("click"):jQuery(".start-media-upload").trigger("click")}})}),jQuery(document).ready(function(){handle_privacy_message()});